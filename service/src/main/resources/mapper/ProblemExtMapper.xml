<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cmpay.lemon.monitor.dao.IProblemExtDao" >

    <resultMap id="BaseResultMap" type="com.cmpay.lemon.monitor.entity.ProblemDO" >
        <id column="problem_serial_number" property="problemSerialNumber" jdbcType="BIGINT" />
        <result column="pro_number" property="proNumber" jdbcType="VARCHAR" />
        <result column="problem_detail" property="problemDetail" jdbcType="VARCHAR" />
        <result column="problem_time" property="problemTime" jdbcType="TIMESTAMP" />
        <result column="issuekey" property="issuekey" jdbcType="VARCHAR" />
        <result column="displayName" property="displayname" jdbcType="VARCHAR" />
        <result column="devp_lead_dept" property="devpLeadDept" jdbcType="VARCHAR" />
    </resultMap>

    <sql id="Base_Column_List" >
        problem_serial_number, pro_number, problem_detail, problem_time, issuekey, displayName,
        devp_lead_dept
    </sql>


    <select id="findList" resultMap="BaseResultMap" parameterType="com.cmpay.lemon.monitor.entity.ProblemDO" >
        select
        <include refid="Base_Column_List" />
        from t_production_problem
        <where >
            <if test="problemSerialNumber != null  and problemSerialNumber != ''" >
                and problem_serial_number = #{problemSerialNumber,jdbcType=BIGINT}
            </if>
            <if test="proNumber != null  and proNumber != ''" >
                and pro_number = #{proNumber,jdbcType=VARCHAR}
            </if>
            <if test="problemDetail != null  and problemDetail != ''" >
                and problem_detail = #{problemDetail,jdbcType=VARCHAR}
            </if>
            <if test="problemTime != null " >
                and problem_time = #{problemTime,jdbcType=TIMESTAMP}
            </if>
            <if test="issuekey != null  and issuekey != ''" >
                and issuekey = #{issuekey,jdbcType=VARCHAR}
            </if>
            <if test="displayname != null  and displayname != ''" >
                and displayName = #{displayname,jdbcType=VARCHAR}
            </if>
            <if test="devpLeadDept != null  and devpLeadDept != ''" >
                and devp_lead_dept = #{devpLeadDept,jdbcType=VARCHAR}
            </if>
        </where>
        ORDER BY problem_serial_number DESC
    </select>

</mapper>
